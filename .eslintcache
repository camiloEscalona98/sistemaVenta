[{"D:\\sistemaVentaTio\\sistemaventa\\src\\index.js":"1","D:\\sistemaVentaTio\\sistemaventa\\src\\serviceWorkerRegistration.js":"2","D:\\sistemaVentaTio\\sistemaventa\\src\\reportWebVitals.js":"3","D:\\sistemaVentaTio\\sistemaventa\\src\\service-worker.js":"4","D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\vendedor1\\HomeV1.js":"5","D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\Navbar.js":"6","D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\vendedor1\\NuevaVenta1.js":"7","D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\secciones\\IngresoProducto.js":"8","D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\vendedor1\\ListaVentas.js":"9","D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\secciones\\TablaDetalle.js":"10","D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\secciones\\Buscador.js":"11","D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\NuevoCliente.js":"12","D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\ListaClientes.js":"13","D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\admin\\HomeAdmin.js":"14","D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\Routes\\Routes.js":"15","D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\login\\Login.js":"16","D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\Footer.js":"17"},{"size":847,"mtime":1612292319399,"results":"18","hashOfConfig":"19"},{"size":5064,"mtime":1611261643651,"results":"20","hashOfConfig":"19"},{"size":364,"mtime":499162500000,"results":"21","hashOfConfig":"19"},{"size":2837,"mtime":499162500000,"results":"22","hashOfConfig":"23"},{"size":2083,"mtime":1612457740089,"results":"24","hashOfConfig":"19"},{"size":742,"mtime":1611294012204,"results":"25","hashOfConfig":"23"},{"size":7450,"mtime":1613141219250,"results":"26","hashOfConfig":"19"},{"size":7687,"mtime":1613156809022,"results":"27","hashOfConfig":"19"},{"size":9322,"mtime":1613439688172,"results":"28","hashOfConfig":"19"},{"size":4520,"mtime":1613438081439,"results":"29","hashOfConfig":"19"},{"size":587,"mtime":1611441439417,"results":"30","hashOfConfig":"23"},{"size":3568,"mtime":1612754598188,"results":"31","hashOfConfig":"19"},{"size":4535,"mtime":1613355882146,"results":"32","hashOfConfig":"19"},{"size":2731,"mtime":1612570489958,"results":"33","hashOfConfig":"19"},{"size":801,"mtime":1613444171761,"results":"34","hashOfConfig":"19"},{"size":3877,"mtime":1613141156236,"results":"35","hashOfConfig":"19"},{"size":1063,"mtime":1612758621762,"results":"36","hashOfConfig":"19"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},"a6i2jy",{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"rvgme5",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"39"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"39"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"39"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"63"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"39"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"39"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},"D:\\sistemaVentaTio\\sistemaventa\\src\\index.js",[],["80","81"],"D:\\sistemaVentaTio\\sistemaventa\\src\\serviceWorkerRegistration.js",[],"D:\\sistemaVentaTio\\sistemaventa\\src\\reportWebVitals.js",[],"D:\\sistemaVentaTio\\sistemaventa\\src\\service-worker.js",[],["82","83"],"D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\vendedor1\\HomeV1.js",[],"D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\Navbar.js",[],"D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\vendedor1\\NuevaVenta1.js",["84","85"],"\r\nimport React, { Component } from 'react';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport '../../estilos/nuevaVenta.css';\r\nimport IngresoProducto from '../secciones/IngresoProducto';\r\nimport TablaDetalle from '../secciones/TablaDetalle';\r\nimport axios from 'axios';\r\nimport shortid from 'shortid';\r\nimport Cookies from 'universal-cookie';\r\n\r\nconst cookies = new Cookies();\r\nconst urlPost = 'http://localhost/apiphp/venta.php';\r\nclass nuevaVenta extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            cliente: [],\r\n            id_cliente: '',\r\n            datosCliente: [\r\n                {\r\n                    id: '',\r\n                    nombre: '',\r\n                    comuna: '',\r\n                    direccion: '',\r\n                }\r\n            ],\r\n            num_venta: '',\r\n            numero: 1,\r\n            vendedor: '',\r\n            hora: '',\r\n            fecha: '',\r\n            estadoTabla: 0,\r\n            estadoNumVenta: false,\r\n            mostrarCliente: false,\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        this.numVenta();\r\n        axios\r\n            .get(\"http://localhost/apiphp/cliente.php/\")\r\n            .then((response) => {\r\n                this.setState({ cliente: response.data });\r\n            })\r\n\r\n        this.conocerVendedor();\r\n        this.conocerFecha();\r\n\r\n\r\n\r\n\r\n    }\r\n    conocerVendedor = async () => {\r\n\r\n        const vendedor = cookies.get('user');\r\n        await this.setState({ vendedor: vendedor });\r\n\r\n    }\r\n    conocerFecha = async () => {\r\n        const fechaActual = new Date();\r\n        const fecha = new Date().toISOString().slice(0, 10);\r\n\r\n        const hora = fechaActual.toLocaleTimeString();\r\n\r\n\r\n        await this.setState({ hora: hora });\r\n        await this.setState({ fecha: fecha });\r\n\r\n\r\n    }\r\n\r\n\r\n    peticionGet = async (selectCliente) => {\r\n\r\n        const idCliente = selectCliente;\r\n        await this.setState({ id_cliente: idCliente });\r\n        const url = (`http://localhost/apiphp/cliente.php/?id=${idCliente}`);\r\n       await axios.get(url)\r\n            .then(response => {\r\n                this.setState({ datosCliente: response.data });\r\n                console.log(this.state.datosCliente);\r\n                this.setState({mostrarCliente: true});\r\n                \r\n            })\r\n    }\r\n\r\n\r\n\r\n    registrarVenta = async (e) => {\r\n\r\n        var id_cliente = this.state.id_cliente;\r\n        var vendedor = this.state.vendedor;\r\n        var num_venta = this.state.num_venta;\r\n        var hora = this.state.hora;\r\n        var fecha = this.state.fecha;\r\n        console.log(fecha);\r\n        var f = new FormData();\r\n        f.append(\"id_cliente\", id_cliente);\r\n        f.append(\"vendedor\", vendedor);\r\n        f.append(\"num_venta\", num_venta);\r\n        f.append(\"hora\", hora);\r\n        f.append(\"fecha\", fecha);\r\n\r\n        f.append(\"METHOD\", \"POST\");\r\n        axios.post(urlPost, f)\r\n            .then(respose => {\r\n                console.log(\"enviado\");\r\n            });\r\n        alert(\"Venta Registrada\");\r\n        this.numVenta();\r\n        this.reiniciar();\r\n\r\n    }\r\n    reiniciar = async () => {\r\n      const rol =  cookies.get('rol') ;\r\n       if(rol == 'administrador'){\r\n           window.location.href=\"/HomeAdmin\"\r\n       }else if(rol == 'vendedor'){\r\n        window.location.href=\"/HomeVendedor\"\r\n    }\r\n    }\r\n    cambiarEstadoNumVenta = async () => {\r\n        await this.setState({ estadoNumVenta: true });\r\n    }\r\n    numVenta = async () => {\r\n        //determinar numero de venta\r\n\r\n        const num = shortid.generate();\r\n        await this.setState({ num_venta: num });\r\n        console.log(this.state.num_venta);\r\n\r\n\r\n    }\r\n    iniciarTabla = async (estadoTabla) => {\r\n        this.setState({ estadoTabla: estadoTabla });\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"fondo\">\r\n                <div className=\"container\">\r\n                    <div className=\"form-group contenedor\">\r\n                        <h3>Datos del Cliente</h3>\r\n                        <select name=\"acliente\" className=\"form-control\" onChange={(e) => {\r\n                            const selectCliente = e.target.value;\r\n                           \r\n                            this.peticionGet(selectCliente);\r\n                        }}  >\r\n                            {this.state.cliente.map(elemento => (\r\n                                <option key={elemento.id} value={elemento.id}>{elemento.id} -- {elemento.nombre}</option>\r\n                            ))}\r\n                        </select>\r\n\r\n\r\n                    </div>\r\n                    <hr></hr>\r\n                    <div>\r\n                        <div className=\"table-responsive\">\r\n                            <table className=\"table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th scope=\"col\">#</th>\r\n                                        <th scope=\"col\">Nombre</th>\r\n                                        <th scope=\"col\">Comuna</th>\r\n                                        <th scope=\"col\">Direccion</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                {this.state.mostrarCliente ? (\r\n\r\n                                    <tbody>\r\n                                   \r\n\r\n\r\n                                            <tr className=\"table-primary\" key={this.state.datosCliente.id}>\r\n                                                <td>{this.state.datosCliente.id}</td>\r\n                                                <td>{this.state.datosCliente.nombre}</td>\r\n                                                <td>{this.state.datosCliente.comuna}</td>\r\n                                                <td>{this.state.datosCliente.direccion}</td>\r\n                                            </tr>\r\n\r\n\r\n                                     \r\n                                    </tbody>\r\n\r\n                                ) : null}\r\n\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"row \">\r\n\r\n                        <div className=\"col\">\r\n                            <IngresoProducto\r\n                                numVenta={this.state.num_venta}\r\n                                iniciarTabla={this.iniciarTabla}\r\n                            ></IngresoProducto>\r\n\r\n                        </div>\r\n                        <div className=\"contenedor2 col-12 col-md-6 col-xl-8\">\r\n                            <div className=\"tablaProductos\">\r\n                                <hr></hr>\r\n                                <div>\r\n                                    <TablaDetalle\r\n                                        numVenta={this.state.num_venta}\r\n                                        estadoTabla={this.state.estadoTabla}\r\n                                        estadoNumVenta={this.state.estadoNumVenta}\r\n                                    ></TablaDetalle></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <hr></hr>\r\n                    <button onClick={e => { this.registrarVenta(e) }} type=\"button\" className=\"btn btn-primary btn-lg btn-block\">Ingresar Venta</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default nuevaVenta;","D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\secciones\\IngresoProducto.js",["86","87","88","89","90"],"import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport shortid from 'shortid';\r\nimport { setDefaultHandler } from 'workbox-routing';\r\nconst url = 'http://localhost/apiphp/producto_venta.php';\r\nclass IngresoProducto extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            producto: [],\r\n            opcion: 1,\r\n            numero: 1,\r\n            valores: {\r\n                id: '',\r\n                cantidad: '',\r\n                valor: '',\r\n            },\r\n            id_producto: '',\r\n            num_venta: '',\r\n            datos: [],\r\n            estadoTabla: 0,\r\n\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    //inicia los metodos\r\n    componentWillMount() {\r\n\r\n\r\n        this.consultas();\r\n\r\n        this.numVenta();\r\n    }\r\n    //actualiza los metodos, hay bucle infinito error\r\n\r\n    consultas = async () => {\r\n        if (this.state.opcion === 1) {\r\n            await axios\r\n                .get(\"http://localhost/apiphp/producto.php/?tipo=1\")\r\n                .then((response) => {\r\n\r\n                    this.setState({ producto: response.data });\r\n\r\n\r\n                })\r\n\r\n        } else if (this.state.opcion === 2) {\r\n            await axios\r\n                .get(\"http://localhost/apiphp/producto.php/?tipo=2\")\r\n                .then((response) => {\r\n\r\n                    this.setState({ producto: response.data });\r\n                    console.log(this.state.producto);\r\n\r\n                })\r\n\r\n        }\r\n\r\n\r\n\r\n    }\r\n    // determinar el tipo de producto segun radio\r\n    determinarTipo = async (tipo) => {\r\n        if (tipo == 1) {\r\n            await this.setState({ opcion: 1 });\r\n            this.consultas();\r\n\r\n\r\n        }\r\n        else if (tipo == 2) {\r\n            await this.setState({ opcion: 2 })\r\n            this.consultas();\r\n\r\n        }\r\n        return tipo;\r\n    }\r\n\r\n\r\n    //toma valores de los inputs\r\n    handleChange = e => {\r\n        let valores = this.state.valores;\r\n        valores[e.target.name] = e.target.value;\r\n        this.setState({ valores: valores })\r\n\r\n    }\r\n\r\n    producto = async (idProducto) => {\r\n\r\n        const id = idProducto;\r\n        await this.setState({ id_producto: id });\r\n\r\n\r\n    }\r\n    numVenta = async () => {\r\n        //determinar numero de venta\r\n\r\n        //const num = this.props.numVenta;\r\n        await console.log(this.props.numVenta);\r\n\r\n        this.setState({ num_venta: this.props.numVenta });\r\n        await console.log(this.state.num_venta);\r\n\r\n        // await this.setState({ num_venta: num });\r\n\r\n\r\n    }\r\n\r\n    peticionPost = async (e) => {\r\n        e.preventDefault();\r\n\r\n        var id_producto = this.state.id_producto;\r\n        var cantidad = this.state.valores.cantidad;\r\n        var valor = this.state.valores.valor;\r\n        var numVenta = this.state.num_venta;\r\n\r\n        var filaDetalle = {\r\n            id_producto: id_producto,\r\n            cantidad: cantidad,\r\n            valor: valor,\r\n            numVenta: numVenta\r\n        }\r\n        console.log(filaDetalle);\r\n        //metodo para enviar num_venta a la tabla\r\n\r\n        var f = new FormData();\r\n        f.append(\"id_producto\", id_producto);\r\n        f.append(\"cantidad\", cantidad);\r\n        f.append(\"valor\", valor);\r\n        f.append(\"num_venta\", numVenta);\r\n        f.append(\"METHOD\", \"POST\");\r\n        axios.post(url, f)\r\n            .then(response => {\r\n\r\n            })\r\n        await this.setState({ estadoTabla: this.state.estadoTabla + 1 });\r\n        const estado = this.state.estadoTabla;\r\n\r\n        this.props.iniciarTabla(estado);\r\n        this.limpiarFormulario(e);\r\n\r\n\r\n    }\r\n    limpiarFormulario = async (e) => {\r\n        await this.setState({\r\n            valores: {\r\n                cantidad: '',\r\n                valor: '',\r\n            }\r\n        });\r\n        document.getElementById(\"formulario\").reset();\r\n\r\n    }\r\n    crearobjeto = () => {\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n        const { conocerNumVenta } = this.props\r\n        return (\r\n            <form id=\"formulario\">\r\n                <div className=\"contenedor1  \" >\r\n\r\n                    <div className=\" align-items-center justify-content-center\"     >\r\n\r\n                        <label >Ingresa Producto</label>\r\n                        <div className=\"row\">\r\n                            <select className=\"form-control\" onChange={(e) => {\r\n                                const idProducto = e.target.value;\r\n                                this.producto(idProducto);\r\n                            }}  >\r\n                                {this.state.producto.map(elemento => (\r\n                                    <option name=\"id_producto\"\r\n\r\n                                        key={elemento.id_producto} value={elemento.id_producto}>{elemento.id_producto}--{elemento.producto}</option>\r\n                                ))}\r\n                            </select>\r\n\r\n                            <div className=\"col-12 col-md-6 col-xl-4\">\r\n                                <div>\r\n                                    <span>Huevo</span>\r\n                                    <Radio\r\n                                        value=\"1\"\r\n                                        color=\"primary\"\r\n                                        onChange={(e) => {\r\n                                            const tipo = e.target.value;\r\n                                            this.determinarTipo(tipo)\r\n                                        }}\r\n                                        checked={this.state.opcion === 1}\r\n                                    ></Radio>\r\n\r\n                                </div>\r\n                                <div>\r\n                                    <span>Helado</span>\r\n                                    <Radio\r\n                                        value=\"2\"\r\n                                        color=\"primary\"\r\n                                        checked={this.state.opcion === 2}\r\n                                        onChange={(e) => {\r\n                                            const tipo = e.target.value;\r\n                                            this.determinarTipo(tipo)\r\n                                        }}\r\n                                    ></Radio>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <hr></hr>\r\n                        <div className=\"row container\">\r\n                            <div className=\"col\">\r\n                                <div className=\"form-group\">\r\n                                    <label  >Ingresa Cantidad</label>\r\n                                    <input onChange={(e) => this.handleChange(e)} name=\"cantidad\" type=\"number\" className=\"form-control \" id=\"cantidad\" placeholder=\"Cantidad\" />\r\n\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col\">\r\n                                <div className=\"form-group \" >\r\n                                    <label  >Ingresa Valor</label>\r\n                                    <input onChange={(e) => this.handleChange(e)} name=\"valor\" type=\"number\" className=\"form-control tamañoInput    \" id=\"valor\" placeholder=\"Valor\" />\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <button onClick={e => { this.peticionPost(e) }} type=\"button\" className=\"btn btn-primary btn-lg btn-block\">Ingresar</button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n\r\n        );\r\n    }\r\n\r\n\r\n}\r\nexport default IngresoProducto;","D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\vendedor1\\ListaVentas.js",["91"],"import React, { useEffect, useState } from 'react';\r\n//import MaterialTable from 'material-table';\r\nimport MaterialTable from 'material-table';\r\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\r\nimport axios from 'axios';\r\nimport Cookies from 'universal-cookie';\r\nimport { red } from '@material-ui/core/colors';\r\nimport TablaDetalle from '../secciones/TablaDetalle';\r\n\r\nconst cookies = new Cookies();\r\n//columnas para la tabla\r\n\r\nconst columnas1 = [\r\n    {\r\n        title: 'ID',\r\n        field: 'id',\r\n        type: \"numeric\"\r\n    },\r\n    {\r\n        title: 'Cliente',\r\n        field: 'id_cliente'\r\n    },\r\n    {\r\n        title: 'Fecha',\r\n        field: 'fecha',\r\n        type: \"numeric\"\r\n    },\r\n    {\r\n        title: 'Hora',\r\n        field: 'hora'\r\n    },\r\n    {\r\n        title: 'Total',\r\n        field: 'total_venta',\r\n        type: \"numeric\"\r\n    },\r\n    {\r\n        title: 'Cajas',\r\n        field: 'total_cajas',\r\n        type: \"numeric\"\r\n    }\r\n];\r\nconst columnas2 = [\r\n    {\r\n        title: 'ID',\r\n        field: 'id',\r\n        type: \"numeric\"\r\n    },\r\n    {\r\n        title: 'Cliente',\r\n        field: 'id_cliente'\r\n    },\r\n    {\r\n        title: 'Vendedor',\r\n        field: 'vendedor'\r\n    },\r\n    {\r\n        title: 'Fecha',\r\n        field: 'fecha',\r\n        type: \"numeric\"\r\n    },\r\n    {\r\n        title: 'Hora',\r\n        field: 'hora'\r\n    },\r\n    {\r\n        title: 'Total',\r\n        field: 'total_venta',\r\n        type: \"numeric\"\r\n    },\r\n    {\r\n        title: 'Cajas',\r\n        field: 'total_cajas',\r\n        type: \"numeric\"\r\n    }\r\n];\r\n\r\n\r\n\r\n\r\nconst ListaVentas = () => {\r\n    const [data, setData] = useState([]);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        determinar();\r\n\r\n    }, [])\r\n\r\n    const [tipoUsuario, conocerTipoUsuario] = useState(true);\r\n    const determinar = () => {\r\n        if (cookies.get('rol') === 'vendedor') {\r\n            conocerTipoUsuario(true);\r\n            console.log(cookies.get('rol'));\r\n            const url = 'http://localhost/apiphp/venta.php/?vendedor=';\r\n            const peticionGet = async () => {\r\n\r\n                await axios.get(url + '\"' + cookies.get('user') + '\"')\r\n                    .then(response => {\r\n                        setData(response.data);\r\n                    })\r\n            }\r\n            peticionGet();\r\n\r\n\r\n\r\n        } else if (cookies.get('rol') === 'administrador') {\r\n            conocerTipoUsuario(false);\r\n            console.log(cookies.get('rol'));\r\n            const peticionGet = async () => {\r\n                await axios.get('http://localhost/apiphp/venta.php')\r\n                    .then(response => {\r\n                        setData(response.data);\r\n                    })\r\n            }\r\n            peticionGet();\r\n        }\r\n\r\n    }\r\n    //modal \r\n    const [ventaSeleccionada, setVentaSeleccionada] = useState({\r\n        id: '',\r\n        num_venta: '',\r\n        id_cliente: '',\r\n    })\r\n    const [num_venta, setNum_venta] = useState();\r\n    const seleccionarVenta = (venta, caso) => {\r\n        setVentaSeleccionada(venta);\r\n        abrirCerrarModalEliminar();\r\n    }\r\n    const [modalEliminar, setModalEliminar] = useState(false);\r\n    const abrirCerrarModalEliminar = () => {\r\n        setModalEliminar(!modalEliminar);\r\n\r\n\r\n    }\r\n   \r\n    const seleccionarDetalle = (detalle, caso) => {\r\n        setVentaSeleccionada(detalle);\r\n        abrirCerrarModalDetalle();\r\n        if (!modalDetalle) {\r\n            peticionGetCliente(15);\r\n            setNum_venta(detalle.num_venta);\r\n            console.log(num_venta);\r\n\r\n        } else {\r\n\r\n        }\r\n    }\r\n    const [modalDetalle, setModalDetalle] = useState(false);\r\n    const abrirCerrarModalDetalle = async () => {\r\n        setModalDetalle(!modalDetalle);\r\n\r\n    }\r\n    // proceso para eliminar venta\r\n    const url = 'http://localhost/apiphp/venta.php';\r\n    const peticionDelete = async () => {\r\n        var f = new FormData();\r\n        f.append(\"METHOD\", \"DELETE\");\r\n        await axios.post(url, f, { params: { id: ventaSeleccionada.id } })\r\n            .then(response => {\r\n\r\n                setData(data.filter(venta => venta.id !== ventaSeleccionada.id));\r\n                abrirCerrarModalEliminar();\r\n\r\n            })\r\n    }\r\n    // proceso para cargar detalles de la venta\r\n    //cliente\r\n    const [cliente, setCliente] = useState({});\r\n    const peticionGetCliente = async (id_cliente) => {\r\n        const url = (`http://localhost/apiphp/cliente.php/?id=${id_cliente}`);\r\n        await axios.get(url)\r\n            .then(response => {\r\n\r\n                setCliente(response.data);\r\n                console.log(cliente.id)\r\n\r\n            })\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n\r\n            {tipoUsuario ? (<div>\r\n                <MaterialTable\r\n                    title=\"Tabla Ventas\"\r\n                    columns={columnas1}\r\n                    data={data}\r\n                    fixedHeader\r\n                    fixedHeaderScrollHeight=\"600px\"\r\n                ></MaterialTable>\r\n\r\n\r\n\r\n\r\n            </div>)\r\n\r\n                : (\r\n                    <div>\r\n                        <MaterialTable\r\n                            title=\"Tabla Ventas\"\r\n                            columns={columnas2}\r\n                            data={data}\r\n                            fixedHeader\r\n                            fixedHeaderScrollHeight=\"600px\"\r\n                            actions={[\r\n                                {\r\n                                    icon: 'details',\r\n                                    tooltip: 'Detalles de Venta',\r\n\r\n                                    onClick: (event, rowData) => seleccionarDetalle(rowData, \"Detalle\")\r\n                                },\r\n                                {\r\n                                    icon: 'delete',\r\n                                    tooltip: 'Eliminar Venta',\r\n                                    onClick: (event, rowData) => seleccionarVenta(rowData, \"Eliminar\")\r\n                                }\r\n\r\n                            ]}\r\n                            options={{\r\n                                actionsColumnIndex: -1\r\n                            }}\r\n                        ></MaterialTable>\r\n                    </div>\r\n                )}\r\n            <Modal isOpen={modalEliminar}>\r\n                <ModalBody>\r\n                    ¿Estás seguro que deseas eliminar la Venta ?\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <button className=\"btn btn-danger\"\r\n                        onClick={() => peticionDelete()}\r\n                    >\r\n                        Sí\r\n                    </button>\r\n                    <button\r\n                        className=\"btn btn-secondary\"\r\n                        onClick={() => abrirCerrarModalEliminar()}\r\n                    >\r\n                        No\r\n                    </button>\r\n                </ModalFooter>\r\n            </Modal>\r\n\r\n\r\n\r\n\r\n            <Modal isOpen={modalDetalle}>\r\n                <ModalHeader>\r\n                    Detalle\r\n            </ModalHeader>\r\n                <ModalBody>\r\n                    <div className=\"form-group contenedor\">\r\n                        <h3>Datos del Cliente</h3>\r\n                        <div className=\"table-responsive\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th scope=\"col\">#</th>\r\n                                    <th scope=\"col\">Nombre</th>\r\n                                    <th scope=\"col\">Rut</th>\r\n                                    <th scope=\"col\">Comuna</th>\r\n                                    <th scope=\"col\">Direccion</th>\r\n\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            </tbody>\r\n                        </div>\r\n                        <h3>Datos de Venta</h3>\r\n                        <table className=\"table-responsive\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th scope=\"col\">#</th>\r\n                                    <th scope=\"col\">Fecha</th>\r\n                                    <th scope=\"col\">Hora</th>\r\n                                    <th scope=\"col\">Vendedor</th>\r\n\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                <td>13</td>\r\n                                <td>15-02-2021</td>\r\n                                <td>18:30</td>\r\n                                <td>Erwin</td>\r\n\r\n                                </tr>\r\n                               \r\n\r\n                            </tbody>\r\n\r\n                        </table>\r\n                        <TablaDetalle\r\n                        numVenta = {num_venta}\r\n                        ></TablaDetalle>\r\n\r\n\r\n                    </div>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <button\r\n                        className=\"btn btn-secondary\"\r\n                        onClick={() => abrirCerrarModalDetalle()}>\r\n                        Cerrar\r\n                    </button>\r\n                </ModalFooter>\r\n            </Modal>\r\n\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListaVentas;","D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\secciones\\TablaDetalle.js",["92"],"import axios from 'axios';\r\nimport React, { } from 'react';\r\nimport { Fragment } from 'react';\r\nimport { Component } from 'react';\r\nimport { Form } from 'reactstrap';\r\n\r\nconst url = 'http://localhost/apiphp/producto_venta.php/?num_venta=';\r\nconst urlDelete = 'http://localhost/apiphp/cliente.php?id=';\r\nclass TablaDetalle extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: [],\r\n            total: '',\r\n            sumatoria: '',\r\n            numVenta: '',\r\n            estado: '',\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n    // componentWillUpdate() {\r\n    //     this.peticionGet();\r\n    // }\r\n\r\n    componentWillMount() {\r\n        this.conocerNumVenta();\r\n    }\r\n\r\n    componentDidMount() {\r\n        \r\n        console.log(this.state.numVenta);\r\n\r\n    }\r\n    componentDidCatch(error, info) {\r\n        console.log(\"error\");\r\n    }\r\n    shouldComponentUpdate = async (nextProps, nextState) => {\r\n        if (this.props.estadoTabla !== nextProps.estadoTabla) {\r\n\r\n            await this.peticionGet();\r\n            return true;\r\n        }\r\n    }\r\n\r\n    conocerNumVenta = async () => {\r\n\r\n        await console.log(\"este es el nummventa\"+this.props.numVenta);\r\n        const numVenta = this.props.numVenta;\r\n        await this.setState({ numVenta: numVenta });\r\n        this.peticionGet();\r\n    }\r\n\r\n    condicion = async () => {\r\n        await this.setState({ estado: this.props.estadoTabla });\r\n        this.peticionGet();\r\n\r\n    }\r\n\r\n    peticionGet = async () => {\r\n        const numVenta = this.state.numVenta;\r\n        await axios.get(url + \"'\" + numVenta + \"'\")\r\n            .then(response => {\r\n                this.setState({ data: response.data });\r\n                console.log(response.data);\r\n\r\n\r\n            })\r\n\r\n\r\n\r\n    }\r\n    seleccionarDetalle = (detalle) => {\r\n\r\n        this.peticionDelete(detalle);\r\n    }\r\n    peticionDelete = (detalle) => {\r\n        const id = detalle.id;\r\n        var f = new FormData();\r\n        f.append(\"METHOD\", \"DELETE\");\r\n        axios.delete(urlDelete + id)\r\n            .then(response => {\r\n                console.log(\"bien\");\r\n            })\r\n    }\r\n\r\n\r\n    render() {\r\n        let total = 0;\r\n        let sumatoriaCajas = 0;\r\n        return (\r\n            <Fragment>\r\n                <div>\r\n                    <table className=\"table container table-striped table-condensed table-responsive\">\r\n                        <thead>\r\n                            <tr >\r\n                                <th className=\"th\" scope=\"col\">#</th>\r\n\r\n                                <th className=\"th\" scope=\"col\">Producto</th>\r\n                                <th className=\"th\" scope=\"col\">Valor</th>\r\n                                <th className=\"th\" scope=\"col\">Cantidad</th>\r\n                                <th className=\"th\" scope=\"col\">Eliminar</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.state.data.map((elemento, index) => {\r\n                                total += elemento.valor * elemento.cantidad;\r\n                                sumatoriaCajas = parseFloat(sumatoriaCajas) + parseFloat(elemento.cantidad);\r\n\r\n                                return (\r\n                                    <Fragment key={index}>\r\n                                        <tr >\r\n                                            <td  >{index + 1}</td>\r\n                                            <td >{elemento.producto}</td>\r\n                                            <td >${elemento.valor}</td>\r\n                                            <td  >{elemento.cantidad}</td>\r\n                                            <td onClick={() => this.seleccionarDetalle(elemento)} className=\"btn btn-danger\">eliminar</td>\r\n                                        </tr>\r\n                                    </Fragment>\r\n\r\n                                )\r\n\r\n                            })}\r\n\r\n                            <tr className=\"table-success\">\r\n                                <td>Total:</td>\r\n                                <td></td>\r\n                                <td>${total}</td>\r\n                                <td>{sumatoriaCajas}</td>\r\n                                <td> </td>\r\n                                <td></td>\r\n                            </tr>\r\n\r\n                        </tbody>\r\n                    </table>\r\n\r\n\r\n                </div>\r\n\r\n            </Fragment>\r\n\r\n        );\r\n\r\n    }\r\n}\r\nexport default TablaDetalle;",["93","94"],"D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\secciones\\Buscador.js",[],"D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\NuevoCliente.js",[],"D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\ListaClientes.js",["95"],"import React, { useEffect, useState } from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport { Modal, ModalBody, ModalFooter } from 'reactstrap';\r\nimport axios from 'axios';\r\nimport Cookies from 'universal-cookie';\r\n\r\nconst cookies = new Cookies();\r\nconst columnas = [\r\n    {\r\n        title: 'ID',\r\n        field: 'id',\r\n        type: \"numeric\"\r\n    },\r\n    {\r\n        title: 'Nombre Completo',\r\n        field: 'nombre'\r\n    },\r\n    {\r\n        title: 'Rut',\r\n        field: 'rut',\r\n        type: \"numeric\"\r\n    },\r\n    {\r\n        title: 'Comuna',\r\n        field: 'comuna'\r\n    },\r\n    {\r\n        title: 'Direccion',\r\n        field: 'direccion'\r\n    },\r\n    {\r\n        title: 'Contacto',\r\n        field: 'contacto',\r\n        type: \"numeric\"\r\n    }\r\n];\r\n\r\n\r\n\r\n\r\nfunction ListaClientes() {\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const [data, setData] = useState([]);\r\n    const peticionGet = async () => {\r\n        determinar();\r\n        await axios.get('http://localhost/apiphp/cliente.php')\r\n            .then(response => {\r\n                setData(response.data);\r\n            })\r\n    }\r\n    useEffect(() => {\r\n        peticionGet();\r\n\r\n    }, [])\r\n\r\n    //estado para conocer el tipo de usuario, parte en false = administrador\r\n    const [tipoUsuario, conocerTipoUsuario] = useState(true);\r\n    const determinar = () => {\r\n        if (cookies.get('rol') === 'vendedor') {\r\n            conocerTipoUsuario(true);\r\n            console.log(cookies.get('rol'));\r\n        } else if (cookies.get('rol') === 'administrador') {\r\n            conocerTipoUsuario(false);\r\n            console.log(cookies.get('rol'));\r\n        }\r\n\r\n    }\r\n    const [clienteSeleccionado, setClienteSeleccionado] = useState({\r\n        id: '',\r\n        nombre: '',\r\n        rut: '',\r\n    })\r\n    const seleccionarCliente = (cliente, caso) => {\r\n        setClienteSeleccionado(cliente);\r\n        abrirCerrarModalEliminar();\r\n    }\r\n\r\n    const [modalEliminar, setModalEliminar] = useState(false);\r\n    const abrirCerrarModalEliminar = () => {\r\n        setModalEliminar(!modalEliminar);\r\n\r\n    }\r\n\r\n\r\n    const url = 'http://localhost/apiphp/cliente.php/';\r\n    const peticionDelete = async () => {\r\n        var f = new FormData();\r\n        f.append(\"METHOD\", \"DELETE\");\r\n        await axios.post(url, f, { params: { id: clienteSeleccionado.id } })\r\n            .then(response => {\r\n\r\n                setData(data.filter(cliente => cliente.id !== clienteSeleccionado.id));\r\n                abrirCerrarModalEliminar();\r\n\r\n            })\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n\r\n            {tipoUsuario ? (<div>\r\n                <MaterialTable\r\n                    title=\"Tabla Clientes\"\r\n                    columns={columnas}\r\n                    data={data}\r\n                    fixedHeader\r\n                    fixedHeaderScrollHeight=\"600px\"\r\n                ></MaterialTable>\r\n\r\n\r\n\r\n\r\n            </div>)\r\n\r\n                : (\r\n\r\n                    <div>\r\n                        <MaterialTable\r\n                            title=\"Tabla Clientes\"\r\n                            columns={columnas}\r\n                            data={data}\r\n                            fixedHeader\r\n                            fixedHeaderScrollHeight=\"600px\"\r\n                            actions={[\r\n                                {\r\n                                    icon: 'delete',\r\n                                    tooltip: 'Eliminar Cliente',\r\n                                    onClick: (event, rowData) => seleccionarCliente(rowData, \"Eliminar\")\r\n                                }\r\n                            ]}\r\n                            options={{\r\n                                actionsColumnIndex: -1\r\n\r\n                            }}\r\n                        ></MaterialTable>\r\n\r\n\r\n                    </div>)}\r\n            <Modal isOpen={modalEliminar}>\r\n                <ModalBody>\r\n                    ¿Estás seguro que deseas eliminar el Cliente ?\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <button className=\"btn btn-danger\"\r\n                        onClick={() => peticionDelete()}\r\n                    >\r\n                        Sí\r\n                    </button>\r\n                    <button\r\n                        className=\"btn btn-secondary\"\r\n                        onClick={() => abrirCerrarModalEliminar()}\r\n                    >\r\n                        No\r\n                    </button>\r\n                </ModalFooter>\r\n            </Modal>\r\n\r\n        </div>\r\n    )\r\n\r\n\r\n}\r\nexport default ListaClientes;","D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\admin\\HomeAdmin.js",[],"D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\Routes\\Routes.js",[],"D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\login\\Login.js",["96"],"import React, { Component, Fragment } from 'react';\r\nimport logo from '../../img/logo.jpg';\r\nimport '../../estilos/login.css';\r\nimport axios from 'axios';\r\nimport Cookies from 'universal-cookie';\r\nimport '../vendedor1/HomeV1'\r\n\r\n\r\nconst url = \"http://localhost/apiphp/usuario.php/?username=\";\r\nconst cookies = new Cookies();\r\nclass Login extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            form: {\r\n                username: '',\r\n                password: '',\r\n                tipo: false\r\n            }\r\n        }\r\n    }\r\n\r\n \r\n\r\n\r\n    componentDidMount() {\r\n        if (cookies.get('rol') === 'administrador') {\r\n            window.location.href=\"./HomeAdmin\";\r\n            \r\n        }else if (cookies.get('rol') === 'vendedor'){\r\n            window.location.href=\"./HomeVendedor\";\r\n        }\r\n\r\n    }\r\n\r\n    handleChange = async e => {\r\n        await this.setState({\r\n            form: {\r\n                ...this.state.form,\r\n                [e.target.name]: e.target.value\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    iniciarSesion = async () => {\r\n\r\n        await axios.get(url + this.state.form.username)\r\n            .then(response => {\r\n\r\n                if (this.state.form.password === response.data.password) {\r\n                    return response.data;\r\n                }\r\n                else {\r\n                    alert(\"Datos de ingreso incorrectos\");\r\n                }\r\n\r\n\r\n\r\n\r\n\r\n            })\r\n            .then(response => {\r\n\r\n                cookies.set('id', response.id, { path: \"/\" });\r\n                cookies.set('username', response.username, { path: \"/\" });\r\n                cookies.set('user', response.user, { path: \"/\" });\r\n                cookies.set('rol', response.rol, { path: \"/\" });\r\n                alert(`Bienvenido ${response.user}`);\r\n                if (response.rol == 'administrador') {\r\n\r\n                    this.setState({ tipo: false });\r\n                    window.location.href=\"./HomeAdmin\";\r\n                }\r\n                else if (response.rol === 'vendedor') {\r\n                    this.setState({ tipo: true });\r\n                    window.location.href=\"./HomeVendedor\";\r\n                }\r\n\r\n\r\n\r\n            })\r\n\r\n            .catch(error => {\r\n                console.log(error);\r\n            })\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <div className=\"wrapper fadeInDown container\">\r\n                    <div id=\"formContent\">\r\n\r\n                        <div className=\"fadeIn first\">\r\n                            <img src={logo} id=\"icon\" alt=\"User Icon\" />\r\n                        </div>\r\n\r\n\r\n                        <form\r\n                        //   onSubmit={submitLogin}\r\n                        >\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"fadeIn second\"\r\n                                name=\"username\"\r\n                                placeholder=\"Ingresa Nombre\"\r\n                                onChange={this.handleChange}\r\n                            //   value={nombre}\r\n                            />\r\n                            <input\r\n                                type=\"password\"\r\n                                className=\"fadeIn third\"\r\n                                name=\"password\"\r\n                                placeholder=\"Ingresa Contraseña\"\r\n                                onChange={this.handleChange}\r\n                            //  value={contrasenha}\r\n                            />\r\n                            <input onClick={() => this.iniciarSesion()} className=\"fadeIn fourth btn btn-primary btn-lg\" value=\"Ingresar\" />\r\n                        </form>\r\n\r\n\r\n\r\n\r\n                    </div>\r\n                </div>\r\n            </Fragment>\r\n\r\n        )\r\n    }\r\n}\r\nexport default Login;","D:\\sistemaVentaTio\\sistemaventa\\src\\Componentes\\Footer.js",[],{"ruleId":"97","replacedBy":"98"},{"ruleId":"99","replacedBy":"100"},{"ruleId":"97","replacedBy":"101"},{"ruleId":"99","replacedBy":"102"},{"ruleId":"103","severity":1,"message":"104","line":124,"column":15,"nodeType":"105","messageId":"106","endLine":124,"endColumn":17},{"ruleId":"103","severity":1,"message":"104","line":126,"column":21,"nodeType":"105","messageId":"106","endLine":126,"endColumn":23},{"ruleId":"107","severity":1,"message":"108","line":4,"column":8,"nodeType":"109","messageId":"110","endLine":4,"endColumn":15},{"ruleId":"107","severity":1,"message":"111","line":5,"column":10,"nodeType":"109","messageId":"110","endLine":5,"endColumn":27},{"ruleId":"103","severity":1,"message":"104","line":75,"column":18,"nodeType":"105","messageId":"106","endLine":75,"endColumn":20},{"ruleId":"103","severity":1,"message":"104","line":81,"column":23,"nodeType":"105","messageId":"106","endLine":81,"endColumn":25},{"ruleId":"107","severity":1,"message":"112","line":173,"column":17,"nodeType":"109","messageId":"110","endLine":173,"endColumn":32},{"ruleId":"107","severity":1,"message":"113","line":7,"column":10,"nodeType":"109","messageId":"110","endLine":7,"endColumn":13},{"ruleId":"107","severity":1,"message":"114","line":5,"column":10,"nodeType":"109","messageId":"110","endLine":5,"endColumn":14},{"ruleId":"97","replacedBy":"115"},{"ruleId":"99","replacedBy":"116"},{"ruleId":"117","severity":1,"message":"118","line":60,"column":8,"nodeType":"119","endLine":60,"endColumn":10,"suggestions":"120"},{"ruleId":"103","severity":1,"message":"104","line":71,"column":34,"nodeType":"105","messageId":"106","endLine":71,"endColumn":36},"no-native-reassign",["121"],"no-negated-in-lhs",["122"],["121"],["122"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-unused-vars","'shortid' is defined but never used.","Identifier","unusedVar","'setDefaultHandler' is defined but never used.","'conocerNumVenta' is assigned a value but never used.","'red' is defined but never used.","'Form' is defined but never used.",["121"],["122"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'peticionGet'. Either include it or remove the dependency array.","ArrayExpression",["123"],"no-global-assign","no-unsafe-negation",{"desc":"124","fix":"125"},"Update the dependencies array to be: [peticionGet]",{"range":"126","text":"127"},[1136,1138],"[peticionGet]"]